---
pubDatetime: 2024-09-02
title: äºŒå‰æ ‘å‰ç½®æ€æƒ³
featured: false
draft: false
tags:
  - ç®—æ³•
description: äºŒå‰æ ‘å‰ç½®æ€æƒ³
---

å¿«é€Ÿæ’åºå°±æ˜¯ä¸ªäºŒå‰æ ‘çš„å‰åºéå†ï¼Œå½’å¹¶æ’åºå°±æ˜¯ä¸ªäºŒå‰æ ‘çš„ååºéå†ã€‚(å¬è¯´é«˜æ‰‹éƒ½æ˜¯è¿™ä¹ˆæƒ³çš„)
æ‰€ä»¥å…ˆæ‰“ç‚¹åŸºç¡€å§ã€‚

## å¿«æ’ç®—æ³•æ€è·¯

ä»£ç æ¡†æ¶

```javascript
const sort = function (nums, lo, hi) {
  if (lo >= hi) {
    return;
  }
  // å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†
  // ä½¿å¾— nums[lo..p-1] <= nums[p] < nums[p+1..hi]
  let p = partition(nums, lo, hi);
  // å»å·¦å³å­æ•°ç»„è¿›è¡Œåˆ‡åˆ†
  sort(nums, lo, p - 1);
  sort(nums, p + 1, hi);
};
```

å¯¹æ¯”äºŒå‰æ ‘å‰åºéå†

```javascript
// äºŒå‰æ ‘éå†æ¡†æ¶
const traverse = function (root) {
  if (root === null) {
    return;
  }
  // ***** å‰åºä½ç½® *****
  console.log(root.val);
  // *******************
  traverse(root.left);
  traverse(root.right);
};
```

ä¸€å¥è¯æ€»ç»“å¿«é€Ÿæ’åºï¼š**å¿«é€Ÿæ’åºæ˜¯å…ˆå°†ä¸€ä¸ªå…ƒç´ æ’å¥½åºï¼Œç„¶åå†å°†å‰©ä¸‹çš„å…ƒç´ æ’å¥½åº**ã€‚

å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ— ç–‘æ˜¯ `partition` å‡½æ•°ï¼Œ `partition` å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ `nums[lo..hi]` ä¸­å¯»æ‰¾ä¸€ä¸ªåˆ‡åˆ†ç‚¹ `p`ï¼Œé€šè¿‡äº¤æ¢å…ƒç´ ä½¿å¾— `nums[lo..p-1]` éƒ½å°äºç­‰äº `nums[p]`ï¼Œä¸” `nums[p+1..hi]` éƒ½å¤§äº `nums[p]`

ä¸€ä¸ªå…ƒç´ å·¦è¾¹çš„å…ƒç´ éƒ½æ¯”å®ƒå°ï¼Œå³è¾¹çš„å…ƒç´ éƒ½æ¯”å®ƒå¤§ï¼Œæ‰€ä»¥ `partition` å‡½æ•°å¹²çš„äº‹æƒ…ï¼Œå…¶å®å°±æ˜¯æŠŠ `nums[p]` è¿™ä¸ªå…ƒç´ æ’å¥½åºäº†ã€‚

**ä»äºŒå‰æ ‘çš„è§†è§’ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå­æ•°ç»„ `nums[lo..hi]` ç†è§£æˆäºŒå‰æ ‘èŠ‚ç‚¹ä¸Šçš„å€¼ï¼Œ`sort` å‡½æ•°ç†è§£æˆäºŒå‰æ ‘çš„éå†å‡½æ•°**ã€‚

`partition` å‡½æ•°æ¯æ¬¡éƒ½å°†æ•°ç»„åˆ‡åˆ†æˆå·¦å°å³å¤§ä¸¤éƒ¨åˆ†ï¼Œæ°å¥½å’ŒäºŒå‰æœç´¢æ ‘å·¦å°å³å¤§çš„ç‰¹æ€§å»åˆã€‚

æ¬¸â˜ï¸ğŸ¤“ï¼Œé‚£**å¿«é€Ÿæ’åºçš„è¿‡ç¨‹å¯ä¸å°±æ˜¯æ˜¯ä¸€ä¸ªæ„é€ äºŒå‰æœç´¢æ ‘çš„è¿‡ç¨‹**ã€‚

ä½†æ˜¯äºŒå‰æœç´¢æ ‘ä¸å¹³è¡¡çš„æç«¯æƒ…å†µï¼Œéœ€è¦å¼•å…¥éšæœºæ€§ï¼Œæ¯”å¦‚æ´—ç‰Œç®—æ³•ã€‚å½“ç„¶è¿™ç§ä¸œè¥¿å°±ä¸æ˜¯ç°åœ¨çš„æˆ‘èƒ½ç¢°ç“·çš„äº†ï¼Œéšä¾¿è®°ä¸€ä¸‹å°±å¥½äº†ã€‚

## å¿«é€Ÿæ’åºä»£ç å®ç°

```javascript
const quickSort = function (nums) {
  // æ’åºæ•´ä¸ªæ•°ç»„ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰
  sort(nums, 0, nums.length - 1);
};

const sort = function (nums, lo, hi) {
  if (lo >= hi) {
    return;
  }
  // å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†
  // ä½¿å¾— nums[lo..p-1] <= nums[p] < nums[p+1..hi]
  let p = partition(nums, lo, hi);
  sort(nums, lo, p - 1);
  sort(nums, p + 1, hi);
};

// å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†
const partition = function (nums, lo, hi) {
  let pivot = nums[lo];
  // å…³äºåŒºé—´çš„è¾¹ç•Œæ§åˆ¶éœ€æ ¼å¤–å°å¿ƒï¼Œç¨æœ‰ä¸æ…å°±ä¼šå‡ºé”™
  // è¿™é‡ŒæŠŠ i, j å®šä¹‰ä¸ºå¼€åŒºé—´ï¼ŒåŒæ—¶å®šä¹‰ï¼š
  // [lo, i) <= pivotï¼›(j, hi] > pivot
  // [lo, i) <= pivot; (j, hi] > pivot
  // ä¹‹åéƒ½è¦æ­£ç¡®ç»´æŠ¤è¿™ä¸ªè¾¹ç•ŒåŒºé—´çš„å®šä¹‰
  let i = lo + 1,
    j = hi;
  // å½“ i > j æ—¶ç»“æŸå¾ªç¯ï¼Œä»¥ä¿è¯åŒºé—´ [lo, hi] éƒ½è¢«è¦†ç›–
  while (i <= j) {
    while (i < hi && nums[i] <= pivot) {
      i++;
      // æ­¤ while ç»“æŸæ—¶æ°å¥½ nums[i] > pivot
    }
    while (j > lo && nums[j] > pivot) {
      j--;
      // æ­¤ while ç»“æŸæ—¶æ°å¥½ nums[j] <= pivot
    }

    if (i >= j) {
      break;
    }
    // æ­¤æ—¶ [lo, i) <= pivot && (j, hi] > pivot
    // äº¤æ¢ nums[j] å’Œ nums[i]
    [nums[i], nums[j]] = [nums[j], nums[i]];
    // æ­¤æ—¶ [lo, i] <= pivot && [j, hi] > pivot
  }
  // æœ€åå°† pivot æ”¾åˆ°åˆé€‚çš„ä½ç½®ï¼Œå³ pivot å·¦è¾¹å…ƒç´ è¾ƒå°ï¼Œå³è¾¹å…ƒç´ è¾ƒå¤§
  [nums[lo], nums[j]] = [nums[j], nums[lo]];
  return j;
};
```
